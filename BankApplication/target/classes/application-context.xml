<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context"
	xmlns:p="http://www.springframework.org/schema/p"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
		http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd">

	<context:annotation-config/>
	
	<context:component-scan base-package="com.luxoft.bankapp"/>

    <bean id="bankDao" class="com.luxoft.bankapp.dao.BankDAOImpl">
    </bean>
    <bean id="clientDao" class="com.luxoft.bankapp.dao.ClientDAOImpl">
    </bean>
    <bean id="accountDao" class="com.luxoft.bankapp.dao.AccountDAOImpl">
    </bean>

	 <bean id="bankService" class="com.luxoft.bankapp.service.BankServiceImpl" autowire="byType">
    </bean>

	<bean class="com.luxoft.bankapp.comands.Command" abstract="true" autowire="byType">
		 <property name="bankService" ref="bankService"/>
	</bean>

   <bean id="bankCommander" class="com.luxoft.bankapp.comands.BankCommander">
         <property name="commandsMap">
               <map>
                     <entry key="0">
                         <bean class="com.luxoft.bankapp.comands.ExitCommand" autowire="byType" > 
                         </bean>
                     </entry>
                     <entry key="1">
                         <bean class="com.luxoft.bankapp.comands.FindClientCommand" autowire="byType"> 
                         </bean>
						
                     </entry>
                     <entry key="2">
                         <bean class="com.luxoft.bankapp.comands.GetAccountCommand" autowire="byType" > 
                      		 <property name="accountDAO" ref="accountDao"/> 
                         </bean>
                         
                     </entry>
                     <entry key="3">
                         <bean class="com.luxoft.bankapp.comands.DepositCommand" autowire="byType" > 
					         <property name="clientDAO" ref="clientDao"/>
                         </bean>
                     </entry>
                     <entry key="4">
                         <bean class="com.luxoft.bankapp.comands.WithdrawCommand" autowire="byType" > 
                         	<property name="clientDAO" ref="clientDao"/>
                         </bean>
                     </entry>
                     <entry key="5">
                         <bean class="com.luxoft.bankapp.comands.TransferCommand" autowire="byType" > 
                         	<property name="clientDAO" ref="clientDao"/>
                         </bean>
                     </entry>
                     <entry key="6">
                         <bean class="com.luxoft.bankapp.comands.AddClientCommand" autowire="byType" > 
                       		  <property name="clientDAO" ref="clientDao"/>
                         </bean>
                     </entry>
                     <entry key="7">
                         <bean class="com.luxoft.bankapp.comands.DBSelectBankCommander" autowire="byType" > 
     					    <property name="bankDAO" ref="bankDao"/>
     					    <property name="clientDAO" ref="clientDao"/>
                         </bean>
                     </entry>
                     <entry key="8">
                         <bean class="com.luxoft.bankapp.comands.DBRemoveClientCommander" autowire="byType" >
                            <property name="clientDAO" ref="clientDao"/>
         					<property name="accountDAO" ref="accountDao"/> 
                         </bean>
                     </entry>
                     <entry key="9">
                         <bean class="com.luxoft.bankapp.comands.DBSelectClientCommander" autowire="byType" > 
					         <property name="clientDAO" ref="clientDao"/>
                         </bean>
                     </entry>
                     <entry key="10">
                         <bean class="com.luxoft.bankapp.comands.SelectActiveAccount" autowire="byType" > 
                             <property name="accountDAO" ref="accountDao"/>
                        </bean>
                     </entry>
                     <entry key="11">
                         <bean class="com.luxoft.bankapp.comands.DBReportCommander" autowire="byType" > 
                         </bean>
                     </entry>

               </map>           
         </property>
   </bean>
</beans>
